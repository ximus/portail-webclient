<link rel="import" href="../vendor/polymer/polymer.html">
<link rel="import" href="../vendor/paper-button/paper-button.html">
<link rel="import" href="../vendor/iron-icon/iron-icon.html">
<link rel="import" href="../elements/portail-provider-icons.html">
<link rel="import" href="../vendor/layout/layout.html">

<dom-module id="portail-login" class="fit">
  <link rel="stylesheet" href="portail-login.css">
  <template>
    <div id="top">
      <h1 id="header">1730 <span no-break>Chemin de Bibémus</span></h1>
      <p id="notice" hidden?="{{ app.user }}">
        Bienvenue, pour ouvrir le portail, <br>il faut que tu sois inscrit à un des services ci-dessous.
      </p>
      <p id="notice" hidden?="{{ !app.user }}">
        Tu es déja connecté en temps que {{ app.user.name }}. Tu peux cepependant lier un autre service de connexion à ton compte.
      </p>
    </div>

    <div id="main" class="layout vertical">
      <template repeat="{{ provider in app.config.auth.providers }}">
        <paper-button
          self-center
          on-click="{{ loginClick }}"
          data-provider="{{ provider.id }}"
          raised
          class="login-button {{ provider.id }}">
          <iron-icon icon="providers:{{ provider.id }}"></iron-icon>
          <span>Se connecter avec <em>{{ i18n().auth[provider.id].name | capitalize }}</em></span>
        </paper-button>
      </template>
    </div>

  </template>
</dom-module>

<script>
  require(['elements/portail-login'])
</script>