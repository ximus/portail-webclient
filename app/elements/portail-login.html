<link rel="import" href="../vendor/polymer/polymer.html">
<link rel="import" href="../vendor/paper-button/paper-button.html">
<link rel="import" href="../vendor/paper-styles/classes/shadow.html">
<link rel="import" href="../vendor/iron-icon/iron-icon.html">
<link rel="import" href="../elements/portail-provider-icons.html">

<dom-module id="portail-login">
  <link rel="import" type="css" href="portail-login.css">
  <template>
    <div id="top">
      <h1 id="header">1730 <span no-break>Chemin de Bibémus</span></h1>
      <p hidden$="[[ app.authenticated ]]">
        Bienvenue, pour ouvrir le portail, <br>il faut être inscrit à un des services ci-dessous.
      </p>
      <div hidden$="[[ !app.authenticated ]]">
        <p>
          Tu es déja connecté en temps que <i>[[ app.user.name ]]</i>. Tu peux cepependant lier un autre service de connexion à ton compte.
        </p>
        <paper-button on-click="gotoGate">
          Gestion du portail &rarr;
        </paper-button>
      </div>
    </div>

    <div id="main" class="layout vertical">
      <template is="dom-repeat" items="[[ app.config.auth.providers ]]" as="provider">
        <paper-button
          on-click="loginClick"
          data-provider="[[ provider.id ]]"
          raised
          class$="[[ providerBtnClass(provider.id) ]]">
          <iron-icon icon="[[ providerIcon(provider.id) ]]"></iron-icon>
          <span>Se connecter avec <em>[[ providerName(provider.id) ]]</em></span>
        </paper-button>
      </template>
    </div>

  </template>

  <script>
    require(['elements/portail-login'])
  </script>
</dom-module>
