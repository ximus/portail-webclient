<link rel="import" href="../vendor/polymer/polymer.html">
<link rel="import" href="../vendor/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../vendor/core-animated-pages/transitions/cross-fade.html">
<link rel="import" href="../vendor/paper-spinner/paper-spinner.html">
<link rel="import" href="portail-icons.html">

<polymer-element name="portail-gate" fit vertical layout>
  <template>
    <link rel="stylesheet" href="portail-gate.css">

    <div flex></div>

    <div id="card" class="{{ {offline: !isReady} | tokenList }}" self-center>
      <paper-shadow z="1">
        <!-- <img id="gate-vector" src="../images/gate.svg"></img> -->
        <svg viewBox="0 0 516.5 207">
          <g>
            <path d="M31.272,177.563c0,2.2-1.8,4-4,4H5.273c-2.2,0-4-1.8-4-4V5.086c0-2.2,1.8-4,4-4h21.999c2.2,0,4,1.8,4,4
              V177.563z"/>
          </g>
          <g>
            <path id="the-gate-part" d="M468.146,22.099c-2.2,0-4,0-4-0.001s-1.8-0.001-4-0.001H176.201c-2.2,0-5.8,0-8,0h-22c-2.2,0-5.8,0-8,0
              h-11.76c-2.2,0-5.8,0-8,0h-22c-2.2,0-5.8,0-8,0H76.881c-2.2,0-5.8,0-8,0h-4.812c-2.2,0-5.8,0-8,0h-9.186c-2.2,0-4,1.8-4,4v151.466
              c0,2.2,1.8,4,4,4h9.186c2.2,0,5.8,0,8,0h4.812c2.2,0,5.8,0,8,0h11.561c2.2,0,5.8,0,8,0h22c2.2,0,5.8,0,8,0h11.76c2.2,0,5.8,0,8,0
              h22c2.2,0,5.8,0,8,0h11.838c2.2,0,5.8,0,8,0h22c2.2,0,5.8,0,8,0h12.859c2.2,0,5.8,0,8,0h22c2.2,0,5.8,0,8,0h11.359c2.2,0,4,0,4,0
              s1.8,0,4,0h22c2.2,0,4,0,4,0s1.8,0,4,0h12.162c2.2,0,4,0,4,0.001s1.8,0.001,4,0.001h22c2.2,0,4,0,4-0.001s1.8-0.001,4-0.001h11.837
              c2.2,0,4,0,4,0.001s1.8,0.001,4,0.001h22c2.2,0,4,0,4-0.001s1.8-0.001,4-0.001h11.89c2.2,0,4,0,4,0.001s1.8,0.001,4,0.001h22
              c2.2,0,4-1.8,4-4V26.099C472.146,23.898,470.347,22.099,468.146,22.099L468.146,22.099z M76.881,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h11.561c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H76.881z M126.441,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h11.76c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H126.441z M176.201,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h11.838c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H176.201z M226.039,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h12.859c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H226.039z M276.898,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h11.359c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H276.898z M326.258,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h12.162c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H326.258z M376.42,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h11.837c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H376.42z M426.257,163.563c-2.2,0-4-1.8-4-4V44.097
              c0-2.2,1.8-4,4-4h11.89c2.2,0,4,1.8,4,4v115.466c0,2.2-1.8,4-4,4H426.257z"/>
          </g>
          <g>
            <path d="M515.17,177.565c0,2.2-1.801,4-4,4h-22c-2.201,0-4-1.8-4-4V5.086c0-2.2,1.799-4,4-4h22c2.199,0,4,1.8,4,4
              V177.565z"/>
          </g>
          <g>
            <path id="the-arrow" style="opacity: 0;" d="M254.599,53.399c2.009-1.713,5.295-1.713,7.306,0l69.812,59.487c2.01,1.711,3.653,5.093,3.653,7.512v18.239
                  c0,2.419-2.261,3.935-5.026,3.37l-36.448-7.47c-2.763-0.566-4.857,0.944-4.654,3.36l5.031,60.047
                  c0.201,2.413-1.956,4.389-4.798,4.389h-63.337c-2.843,0-4.981-1.973-4.749-4.386l5.714-60.055c0.23-2.412-1.843-3.92-4.605-3.354
                  l-36.344,7.466c-2.763,0.565-5.022-0.948-5.022-3.367v-18.24c0-2.42,1.644-5.8,3.65-7.513L254.599,53.399z"/>
          </g>
        </svg>
        <div id="gate-state">{{ state | formatState }}</div>
      </paper-shadow>
    </div>


    <div flex horizontal layout end-justified>
      <paper-fab id="toggle" self-center icon="portail:{{buttonState}}-gate" aria-label="open or close the gate" on-click="{{ toggleGate }}"></paper-fab>
    </div>
  </template>

  <script>
    require(['elements/portail-gate.js'])
  </script>
</polymer-element>